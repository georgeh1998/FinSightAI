# 10倍株発掘ツール (FinSightAI)

決算短信PDFを読み込み、投資分析（定量・定性）を自動で行い、10倍株（テンバガー）の発掘を支援するツールです。
AIを利用してPDFから情報を抽出し、成長性、収益性、安全性、バリュエーションなどの観点から分析レポートを作成します。

## セットアップ方法

### 1. プロジェクトの準備

リポジトリをクローンし、仮想環境(venv)を作成して、必要なライブラリをインストールします。

```bash
# リポジトリのクローン
git clone <repository_url>
cd <repository_name>

# 仮想環境の作成と有効化
python3 -m venv venv
source venv/bin/activate  # Mac/Linux
# Windowsの場合: .\venv\Scripts\activate

# 依存ライブラリのインストール
pip3 install -r requirements.txt
```

### 2. APIキーの設定

このツールは OpenAI API (GPT-4o) を使用します。
環境変数 `OPENAI_API_KEY` に APIキーを設定してください。

**Linux/Mac:**
```bash
export OPENAI_API_KEY="sk-..."
```

**Windows (PowerShell):**
```powershell
$env:OPENAI_API_KEY="sk-..."
```

## 使い方

### 1. 決算短信ファイルの配置

分析対象の決算短信PDFファイルを `input/` ディレクトリに配置してください。
ファイル名は以下の命名規則に従う必要があります。

**命名規則:** `{証券コード}_{年}_{四半期}.pdf`

**例:**
- `8035_2024_1Q.pdf` (2024年 1Q)
- `8035_2023_1Q.pdf` (2023年 1Q - 前年同期比の比較用)

※ 昨年の同時期のファイルが存在する場合、自動的にYoY（前年同期比）成長率などが計算されます。

### 2. ツールの実行

以下のコマンドでツールを実行します。

```bash
python3 main.py
```

実行後、プロンプトに従って以下を入力します。
1. **証券コード** (例: `8035`)
2. **現在の株価** (例: `24000`)

### 3. 分析結果の確認

分析が完了すると、 `output/` ディレクトリに Markdown形式のレポートが出力されます。

**出力例:** `output/東京エレクトロン株式会社_2024-01-01.md`

レポートには以下が含まれます。
- バリュエーション指標 (PER, PBR, PEG)
- 定量分析結果（売上高成長率、営業利益率、自己資本比率など、基準値との比較）
- AIによる定性分析（業績進捗、将来戦略、リスク要因など）

## 設定の変更

`config/criteria.yaml` を編集することで、分析の基準値（閾値）を変更できます。
例：売上高成長率の合格ラインを10%から15%に変更するなど。
